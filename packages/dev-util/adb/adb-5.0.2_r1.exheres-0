# Copyright 2014 Jorge Aparicio
# Distributed under the terms of the GNU General Public License v2

SCM_TAG="android-${PV}"
SCM_REPOSITORY="https://android.googlesource.com/platform/system/core.git"
SCM_CHECKOUT_TO="android-system-core"

require scm-git

SUMMARY="Android debug bridge"
HOMEPAGE="https://android.googlesource.com/platform/system/core"

LICENCES="Apache-2.0"
SLOT="0"
PLATFORMS="~amd64"
MYOPTIONS="
    ( providers: libressl openssl ) [[ number-selected = exactly-one ]]
"

DEPENDENCIES="
    build+run:
        sys-libs/zlib
        providers:libressl? ( dev-libs/libressl:= )
        providers:openssl? ( dev-libs/openssl )
"

WORK="${WORK}/adb"

src_prepare() {
    edo cp "${FILES}"/Makefile .
}

src_install() {
    dobin adb
}

